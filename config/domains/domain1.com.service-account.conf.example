# Domain Configuration for domain1.com using Service Account Authentication
# This domain uses Gmail SMTP with Google Service Account (more secure than App Passwords)

[domain:domain1.com]
# Enable/disable this domain
enabled = true

# Gmail SMTP server settings
smtp_server = smtp.gmail.com
smtp_port = 587

# NEW: Service Account Authentication (recommended)
auth_method = SERVICE_ACCOUNT
service_account_file = /etc/ssmtp-mailer/service-accounts/domain1-service-account.json
service_account_user = mail-relay@domain1.com

# OLD: App Password Authentication (deprecated, kept for reference)
# auth_method = LOGIN
# username = mail-relay@domain1.com
# password = your_gmail_app_password_here

# Remote relay account (Gmail account being impersonated)
relay_account = mail-relay@domain1.com

# Gmail SSL/TLS settings
use_ssl = false
use_starttls = true

# Gmail requires STARTTLS on port 587
# No SSL certificate files needed for Gmail

# Service Account Benefits:
# - More secure than App Passwords
# - No user interaction required
# - Automatic token refresh
# - Better for server environments
# - Supports domain-wide delegation

# Service Account Setup Steps:
# 1. Go to Google Cloud Console
# 2. Create Service Account
# 3. Enable Domain-Wide Delegation
# 4. Download JSON key file
# 5. Configure in Google Workspace Admin
# 6. Place JSON file in secure location
# 7. Update this configuration

# Security Notes:
# - Keep service account JSON file secure (600 permissions)
# - Rotate keys periodically
# - Use environment variables for file paths in production
# - Monitor service account usage
